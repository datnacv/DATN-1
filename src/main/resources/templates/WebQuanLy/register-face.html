<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Đăng ký khuôn mặt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        :root { --box-w:300px; --box-h:400px; }
        body{
            margin:0;padding:0;background:#f9fafb;
            min-height:100vh;display:flex;flex-direction:column;
            align-items:center;gap:16px;font-family:'Segoe UI',sans-serif;
        }
        h2{margin-top:32px;font-size:20px;font-weight:700;color:#111827}
        .camera-box{
            position:relative;width:var(--box-w);height:var(--box-h);
            border-radius:16px;overflow:hidden;background:#000;
            box-shadow:0 0 20px rgba(0,0,0,.08);
        }
        video,canvas{
            position:absolute;inset:0;width:100%;height:100%;object-fit:cover;
        }
        #result{min-height:28px}
    </style>
</head>
<body class="bg-light" th:attr="data-username=${#authentication?.principal?.username}">
<h2>Đăng ký khuôn mặt</h2>

<div class="camera-box">
    <video id="video" autoplay muted playsinline></video>
    <canvas id="overlay"></canvas>
</div>

<div id="result" class="text-secondary mt-3 fw-medium">
    Đưa mặt vào giữa vòng tròn. Tránh ánh sáng ngược.
</div>

<script src="/js/face-api.min.js"></script>
<script src="/js/register-face.js" defer></script>
</body>
</html>

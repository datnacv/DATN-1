<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Danh sách Admin</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
    <h2>Danh sách Admin</h2>
    <div th:if="${message}" th:class="${messageType == 'error' ? 'error' : 'success'}">
        <p th:text="${message}"></p>
    </div>
    <form th:action="@{/acvstore/admins}" method="get">
        <input type="text" name="keyword" placeholder="Tìm kiếm..." th:value="${keyword}">
        <button type="submit" class="btn">Tìm</button>
    </form>
    <table>
        <tr>
            <th>ID</th>
            <th>Tên đăng nhập</th>
            <th>Họ tên</th>
            <th>Email</th>
            <th>Hành động</th>
        </tr>
        <tr th:each="admin : ${admins}">
            <td th:text="${admin.id}"></td>
            <td th:text="${admin.tenDangNhap}"></td>
            <td th:text="${admin.hoTen}"></td>
            <td th:text="${admin.email}"></td>
            <td>
                <a th:href="@{/acvstore/admins/edit?id=${admin.id}}" class="btn">Sửa</a>
                <form th:action="@{/acvstore/admins/delete/{id}(id=${admin.id})}" method="post" style="display:inline;">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" class="btn" onclick="return confirm('Bạn có chắc muốn xóa?');">Xóa</button>
                </form>
            </td>
        </tr>
    </table>
    <div>
        <a th:href="@{/acvstore/admins?page=0&keyword=${keyword}}" class="btn">Trang đầu</a>
        <a th:href="@{/acvstore/admins?page=${currentPage - 1}&keyword=${keyword}}" th:unless="${currentPage == 0}" class="btn">Trang trước</a>
        <span>Trang [[${currentPage + 1}]] / [[${totalPages}]]</span>
        <a th:href="@{/acvstore/admins?page=${currentPage + 1}&keyword=${keyword}}" th:unless="${currentPage + 1 == totalPages}" class="btn">Trang sau</a>
        <a th:href="@{/acvstore/admins?page=${totalPages - 1}&keyword=${keyword}}" class="btn">Trang cuối</a>
    </div>
    <form th:action="@{/acvstore/admins/add}" method="post" th:object="${admin}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <input type="hidden" th:field="*{vaiTro}" value="admin">
        <!-- Thêm các trường cần thiết như tenDangNhap, matKhau, hoTen, email, v.v. -->
        <button type="submit" class="btn">Thêm Admin</button>
    </form>
</div>
</body>
</html>
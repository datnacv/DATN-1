<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Sidebar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/admin.css}">

    <style>
        .toggle-btn {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1050;
            background: #343a40;
            color: white;
            border: none;
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .toggle-btn.sidebar-visible {
            left: 265px;
        }
        .sidebar-header img {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>

<!-- Sidebar -->
<div th:fragment="sidebar" class="sidebar d-flex flex-column p-3 bg-blue text-white" id="sidebar">

    <div class="sidebar-header mb-4 text-center">
        <!-- Thay logo bằng thẻ img, thay đổi src bằng đường dẫn thực tế của logo -->
        <img th:src="@{/images/acv-logo2.png}" alt="ACV Logo" style="max-width: 50px; height: auto;">
    </div>

<!--    <button class="toggle-btn sidebar-visible" id="toggleBtn" onclick="toggleSidebar()">-->
<!--        <i class="fas fa-bars" id="toggleIcon"></i>-->
<!--    </button>-->

    <div class="nav-container flex-grow-1">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a th:href="@{/acvstore/thongke}" class="nav-link text-white">
                    <i class="fa-solid fa-chart-line"></i> Thống kê
                </a>
            </li>
            <li class="nav-item">
                <a th:href="@{/acvstore/banhang}" class="nav-link text-white">
                    <i class="fa-solid fa-cash-register"></i> Bán hàng tại quầy
                </a>
            </li>
            <li class="nav-item">
                <a th:href="@{/acvstore/hoadon}" class="nav-link text-white">
                    <i class="fa-solid fa-file-invoice"></i> Hóa đơn
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white d-flex justify-content-between align-items-center collapsed" data-bs-toggle="collapse" href="#sanphamSubmenu" role="button" aria-expanded="false" aria-controls="sanphamSubmenu">
                    <span><i class="fa-solid fa-box-open"></i> Sản phẩm</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </a>
                <div class="collapse" id="sanphamSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a th:href="@{/acvstore/san-pham}" class="nav-link text-white">
                                <i class="fa-solid fa-list-check"></i> Danh sách sản phẩm
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white d-flex justify-content-between align-items-center collapsed" data-bs-toggle="collapse" href="#thuocTinhSubmenu" role="button" aria-expanded="false" aria-controls="thuocTinhSubmenu">
                                <span><i class="fa-solid fa-tags"></i> Thuộc tính sản phẩm</span>
                                <i class="fa-solid fa-chevron-down"></i>
                            </a>
                            <div class="collapse" id="thuocTinhSubmenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/xuat-xu}" class="nav-link text-white">
                                            <i class="fa-solid fa-globe"></i> Xuất xứ
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/mau-sac}" class="nav-link text-white">
                                            <i class="fa-solid fa-palette"></i> Màu sắc
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/kich-co}" class="nav-link text-white">
                                            <i class="fa-solid fa-ruler"></i> Kích thước
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/chat-lieu}" class="nav-link text-white">
                                            <i class="fa-solid fa-swatchbook"></i> Chất liệu
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/kieu-dang}" class="nav-link text-white">
                                            <i class="fa-solid fa-vector-square"></i> Kiểu dáng
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/co-ao}" class="nav-link text-white">
                                            <i class="fa-solid fa-tshirt"></i> Cổ áo
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/tay-ao}" class="nav-link text-white">
                                            <i class="fa-solid fa-ruler-horizontal"></i> Tay áo
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/danh-muc}" class="nav-link text-white">
                                            <i class="fa-solid fa-folder-tree"></i> Danh mục
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/acvstore/thuong-hieu}" class="nav-link text-white">
                                            <i class="fa-solid fa-certificate"></i> Thương hiệu
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white d-flex justify-content-between align-items-center collapsed" data-bs-toggle="collapse" href="#giamgiaSubmenu" role="button" aria-expanded="false" aria-controls="giamgiaSubmenu">
                    <span><i class="fa-solid fa-ticket"></i> Giảm giá</span>
                    <i class="fa-solid fa-chevron-down"></i>
                </a>
                <div class="collapse" id="giamgiaSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a th:href="@{/acvstore/voucher/vouchers}" class="nav-link text-white">
                                <i class="fa-solid fa-ticket-alt"></i> Phiếu giảm giá
                            </a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/acvstore/chien-dich-giam-gia}" class="nav-link text-white">
                                <i class="fa-solid fa-percent"></i> Đợt giảm giá
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="nav-item">
                <a th:href="@{/acvstore/customers}" class="nav-link text-white">
                    <i class="fa-solid fa-users"></i> Khách hàng
                </a>
            </li>
            <li class="nav-item">
                <a th:href="@{/acvstore/employees}" class="nav-link text-white">
                    <i class="fa-solid fa-user-tie"></i> Nhân viên
                </a>
            </li>
        </ul>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/sidebar.js}"></script>
<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('mainContent');
        const navbar = document.getElementById('navbar');
        const toggleBtn = document.getElementById('toggleBtn');
        const toggleIcon = document.getElementById('toggleIcon');

        // Toggle sidebar
        sidebar.classList.toggle('hidden');
        content.classList.toggle('full-width');
        navbar.classList.toggle('full-width');

        // Update button position và icon
        if (sidebar.classList.contains('hidden')) {
            toggleBtn.classList.remove('sidebar-visible');
            toggleBtn.classList.add('sidebar-hidden');
            toggleIcon.classList.remove('fa-bars');
            toggleIcon.classList.add('fa-arrow-right');
        } else {
            toggleBtn.classList.remove('sidebar-hidden');
            toggleBtn.classList.add('sidebar-visible');
            toggleIcon.classList.remove('fa-arrow-right');
            toggleIcon.classList.add('fa-bars');
        }
    }

    // Handle responsive behavior
    window.addEventListener('resize', function() {
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('mainContent');
        const navbar = document.getElementById('navbar');
        const toggleBtn = document.getElementById('toggleBtn');

        if (window.innerWidth <= 768) {
            // Mobile: sidebar hidden by default
            sidebar.classList.add('hidden');
            content.classList.add('full-width');
            navbar.classList.add('full-width');
            toggleBtn.classList.remove('sidebar-visible');
            toggleBtn.classList.add('sidebar-hidden');
        } else {
            // Desktop: show sidebar by default
            sidebar.classList.remove('hidden');
            content.classList.remove('full-width');
            navbar.classList.remove('full-width');
            toggleBtn.classList.remove('sidebar-hidden');
            toggleBtn.classList.add('sidebar-visible');
        }
    });

    // Initialize responsive behavior on load
    window.addEventListener('load', function() {
        if (window.innerWidth <= 768) {
            const sidebar = document.getElementById('sidebar');
            const content = document.getElementById('mainContent');
            const navbar = document.getElementById('navbar');
            const toggleBtn = document.getElementById('toggleBtn');

            sidebar.classList.add('hidden');
            content.classList.add('full-width');
            navbar.classList.add('full-width');
            toggleBtn.classList.remove('sidebar-visible');
            toggleBtn.classList.add('sidebar-hidden');
        }
    });
</script>
</body>
</html>